<!DOCTYPE html>
<html>
    <head>

        <title>Roblox Info Grabber</title>

        <!-- CSS -->
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

        <!-- JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script src="https://code.jquery.com/jquery-1.7.1.js"></script>
    </head>
    <body>
        
        <nav class="blue"><div class="higher"></div><a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a></div></nav>
        

        <ul id="slide-out" class="sidenav">
          <li><div class="user-view">
            <div class="background">
              <img src="https://images.unsplash.com/photo-1609601470014-5754ed429f30?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1502&q=80">
            </div>
            <a href="#user" id="user"><img class="circle" src="https://winaero.com/blog/wp-content/uploads/2018/08/Windows-10-user-icon-big.png"></a>
            <a href="#name" id="name"><div class="white-text name">Not a valid user</div></a>
            <a href="#email" id="email"><div class="white-text email">Reload the app.</div></a>
          </div></li>
          <span id="rbx-goto">
          <li><a href="#!" class="whiters"><i class="material-icons whiters">exit_to_app</i>Go to Roblox Account</a></li>
        </span>
        <li><a class="subheader whiters">Project by 𝙹𝚞𝚒𝚌𝚒𝚒𝙾𝚏𝚏𝚒𝚌𝚒𝚊𝚕#5169</a></li>
        </ul>
        <div class="row">
        <p id="rbx-info" class="col s6">

        </p>
        <p id="rbx-img" class="col s6">
            <img class="materialboxed responsive-img" src="noimg.png">
        </p>
    </div>
    </body>
</html>
<script>
document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.sidenav');
    var instances = M.Sidenav.init(elems);
});

document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.materialboxed');
    var instances = M.Materialbox.init(elems);
  });

(() => {
    const includes = document.getElementsByTagName('include');
    [].forEach.call(includes, i => {
        let filePath = i.getAttribute('src');
        fetch(filePath).then(file => {
            file.text().then(content => {
                i.insertAdjacentHTML('afterend', content);
                i.remove();
            });
        });
    });
})();

$.getJSON( "./user.json", function( data ) {
  if (data.success === false) {
    $.getJSON( "./result.json", function( result ) {
        
    document.getElementById("rbx-info").innerHTML = `<div id="code">Please enter a valid Roblox Username<br>Reload the app, and try again.<br>If this issue persists email <a href="mailto:juiciiofficial@gmail.com?subject=[ISSUE] Roblox User Grabber&body=%5BError%20Info%5D%0A%0ARoblox%20Username%3A%20${result.input}%0AError%20Type%3A%201%0ADevice%3A%20${window.navigator.appVersion}%0A%0A%5BUser%20Info%5D%0A%0A">juiciiofficial@gmail.com</a>.</pre>`;
    })
  } else {
    document.getElementById("rbx-info").innerHTML = `Username: <strong>${data.username}</strong><br>ID: <strong>${data.id}</strong><br>Friends Count: <strong>${data.friends.count}</strong><br>Last Online: <strong>${data.last_online}</strong><br>Status: <strong>${data.status}</strong><br>Followers: <strong>${data.followers.count}</strong><br>Following: <strong>${data.following.count}</strong><br>Games: <strong>${data.games.count}</strong><br>Groups: <strong>${data.groups.count}</strong><br>Avatar Items: <strong>${data.avatar.items.amount}</strong><br>Image Link: <strong><a href="#" onclick="window.open('${data.avatar.link}')">${data.avatar.link}</a></strong>`;
    document.getElementById("user").innerHTML = `<img class="circle" src="https://www.roblox.com/headshot-thumbnail/image?userId=${data.id}&width=60&height=60&format=png">`
    document.getElementById("rbx-img").innerHTML = `<img class="materialboxed responsive-img" src="https://www.roblox.com/avatar-thumbnail/image?userId=${data.id}&width=352&height=352&format=png">`
  document.getElementById("name").innerHTML = `<span class="white-text name">${data.username}</span>`
  document.getElementById("email").innerHTML = `<span class="white-text email">${data.last_online}</span>`
  document.getElementById("rbx-goto").innerHTML = `<li><a href="#" onclick="window.open('https://web.roblox.com/users/${data.id}/profile')"><i class="material-icons">exit_to_app</i>Go to Roblox Account</a></li>`
  }
});
</script>